/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/coffeemake_screen/coffeeMakeViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

coffeeMakeViewBase::coffeeMakeViewBase() :
    updateItemCallback(this, &coffeeMakeViewBase::updateItemCallbackHandler),
    flexButtonCallback(this, &coffeeMakeViewBase::flexButtonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 480, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    bg.setPosition(0, 0, 480, 320);
    bg.setColor(touchgfx::Color::getColorFromRGB(32, 33, 42));
    add(bg);

    circle1.setPosition(220, 0, 260, 320);
    circle1.setCenter(260, 160);
    circle1.setRadius(260);
    circle1.setLineWidth(0);
    circle1.setArc(0, 360);
    circle1Painter.setColor(touchgfx::Color::getColorFromRGB(21, 22, 27));
    circle1.setPainter(circle1Painter);
    add(circle1);

    scrollWheel1.setPosition(240, 0, 240, 320);
    scrollWheel1.setHorizontal(false);
    scrollWheel1.setCircular(true);
    scrollWheel1.setEasingEquation(touchgfx::EasingEquations::circEaseOut);
    scrollWheel1.setSwipeAcceleration(15);
    scrollWheel1.setDragAcceleration(10);
    scrollWheel1.setNumberOfItems(7);
    scrollWheel1.setSelectedItemOffset(120);
    scrollWheel1.setOvershootPercentage(75);
    scrollWheel1.setDrawableSize(80, 0);
    scrollWheel1.setDrawables(scrollWheel1ListItems, updateItemCallback);
    scrollWheel1.animateToItem(0, 0);
    add(scrollWheel1);

    enter.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_AV_PLAY_CIRCLE_FILLED_35_35_CBC5C5_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_AV_PLAY_CIRCLE_FILLED_35_35_4F4F55_SVG_ID));
    enter.setIconXY(0, 0);
    enter.setAction(flexButtonCallback);
    enter.setPosition(435, 143, 35, 35);
    add(enter);

    info.setPosition(30, 40, 175, 240);
    info.setColor(touchgfx::Color::getColorFromRGB(203, 197, 197));
    info.setLinespacing(5);
    info.setWideTextAction(WIDE_TEXT_WORDWRAP);
    info.setTypedText(touchgfx::TypedText(T___SINGLEUSE_QC9L));
    add(info);

    backToSelect.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_CHEVRON_LEFT_35_35_CBC5C5_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_NAVIGATION_CHEVRON_LEFT_35_35_4F4F55_SVG_ID));
    backToSelect.setIconXY(0, 0);
    backToSelect.setAction(flexButtonCallback);
    backToSelect.setPosition(0, 0, 35, 35);
    add(backToSelect);

    watermark.setXY(0, 308);
    watermark.setColor(touchgfx::Color::getColorFromRGB(203, 197, 197));
    watermark.setLinespacing(0);
    watermark.setTypedText(touchgfx::TypedText(T___SINGLEUSE_D9GN));
    add(watermark);
}

coffeeMakeViewBase::~coffeeMakeViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void coffeeMakeViewBase::setupScreen()
{
    scrollWheel1.initialize();
    for (int i = 0; i < scrollWheel1ListItems.getNumberOfDrawables(); i++)
    {
        scrollWheel1ListItems[i].initialize();
    }
}

void coffeeMakeViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &enter)
    {
        //enterCustomize
        //When enter clicked change screen to customize
        //Go to customize with no screen transition
        application().gotocustomizeScreenNoTransition();
    }
    if (&src == &backToSelect)
    {
        //backToSelectPage
        //When backToSelect clicked change screen to functionSelect
        //Go to functionSelect with no screen transition
        application().gotofunctionSelectScreenNoTransition();
    }
}

void coffeeMakeViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &scrollWheel1ListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        listElement* cc = (listElement*)d;
        scrollWheel1UpdateItem(*cc, itemIndex);
    }
}
